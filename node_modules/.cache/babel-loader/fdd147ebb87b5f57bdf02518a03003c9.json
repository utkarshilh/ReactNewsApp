{"ast":null,"code":"import _regeneratorRuntime from\"/Users/utkarsh/news-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/utkarsh/news-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/utkarsh/news-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/utkarsh/news-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/utkarsh/news-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/utkarsh/news-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import NewsItem from'./NewsItem';import Spiner from'./component/Spiner';import PropTypes from'prop-types';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var News=/*#__PURE__*/function(_Component){_inherits(News,_Component);var _super=_createSuper(News);function News(){var _this;_classCallCheck(this,News);_this=_super.call(this);_this.handleNextClick=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(_this.state.totalResults);// if (!(this.state.page + 1 > Math.ceil(this.state.totalResults / this.props.pageSize))) {\n//     let url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=42ddb4056aeb4d4ab37062f04002f663&page=${this.state.page + 1}&pageSize=${this.props.pageSize}`;\n//     this.setState({ loading: true })\n//     let data = await fetch(url);\n//     let parsedData = await data.json()\n//     this.setState({ articles: parsedData.articles })\n//     this.setState({\n//         page: this.state.page + 1,\n//         articles: parsedData.articles,\n//         loading: false\n//     })\n// }\n_this.setState({page:_this.state.page+1});_this.updateNews();case 3:case\"end\":return _context.stop();}}},_callee);}));_this.handlePrevClick=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log(\"previous button was clicked \");// let url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=42ddb4056aeb4d4ab37062f04002f663&page=${this.state.page - 1}&pageSize=${this.props.pageSize}`;\n// this.setState({ loading: true })\n// let data = await fetch(url);\n// let parsedData = await data.json()\n// console.log(parsedData);\n// this.setState({ articles: parsedData.articles })\n// this.setState({\n//     page: this.state.page - 1,\n//     articles: parsedData.articles,\n//     loading: false\n// })\n_this.setState({page:_this.state.page-1});_this.updateNews();case 3:case\"end\":return _context2.stop();}}},_callee2);}));_this.state={articles:[],loading:false,page:1};return _this;}_createClass(News,[{key:\"updateNews\",value:function(){var _updateNews=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var url,data,parsedData;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:url=\"https://newsapi.org/v2/top-headlines?country=\".concat(this.props.country,\"&category=\").concat(this.props.category,\"&apiKey=42ddb4056aeb4d4ab37062f04002f663&page=\").concat(this.state.page,\"&pageSize=\").concat(this.props.pageSize);this.setState({loading:true});_context3.next=4;return fetch(url);case 4:data=_context3.sent;_context3.next=7;return data.json();case 7:parsedData=_context3.sent;console.log(parsedData);this.setState({articles:parsedData.articles,totalResults:parsedData.totalResults,loading:false});case 10:case\"end\":return _context3.stop();}}},_callee3,this);}));function updateNews(){return _updateNews.apply(this,arguments);}return updateNews;}()},{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:this.updateNews();case 1:case\"end\":return _context4.stop();}}},_callee4,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"container my-3\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"NewsMonkey - TopHeadlines\"}),this.state.loading&&/*#__PURE__*/_jsx(Spiner,{}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:!this.state.loading&&this.state.articles.map(function(element){return/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsx(NewsItem,{title:element.title?element.title.slice(0,45):\"\",discription:element.description?element.description.slice(0,88):\"\",imageUrl:element.urlToImage,newsUrl:element.url,author:element.author,date:element.publishedAt})},element.url);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"container d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"button\",{disabled:this.state.page<=1,type:\"button\",className:\"btn btn-dark\",onClick:this.handlePrevClick,children:\" \\u2190 Previous\"}),/*#__PURE__*/_jsx(\"button\",{disabled:this.state.page+1>Math.ceil(this.state.totalResults/this.props.pageSize),type:\"button\",className:\"btn btn-dark\",onClick:this.handleNextClick,children:\"Next \\u2192\"})]})]});}}]);return News;}(Component);News.defaultProps={country:'in',pageSize:8,category:'general'};News.propsTypes={country:PropTypes.string,pageSize:PropTypes.number,category:PropTypes.string};export default News;","map":{"version":3,"sources":["/Users/utkarsh/news-app/src/News.js"],"names":["React","Component","NewsItem","Spiner","PropTypes","News","handleNextClick","console","log","state","totalResults","setState","page","updateNews","handlePrevClick","articles","loading","url","props","country","category","pageSize","fetch","data","json","parsedData","map","element","title","slice","description","urlToImage","author","publishedAt","Math","ceil","defaultProps","propsTypes","string","number"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport NewsItem from './NewsItem'\nimport Spiner from './component/Spiner';\nimport PropTypes from 'prop-types'\nexport class News extends Component {\n\n    static defaultProps = {\n        country: 'in',\n        pageSize: 8,\n        category: 'general',\n\n\n    }\n    static propsTypes = {\n        country: PropTypes.string,\n        pageSize: PropTypes.number,\n        category: PropTypes.string,\n    }\n    constructor() {\n        super();\n        this.state = {\n            articles: [],\n            loading: false,\n            page: 1,\n\n        }\n    }\n    async updateNews() {\n        const url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=42ddb4056aeb4d4ab37062f04002f663&page=${this.state.page}&pageSize=${this.props.pageSize}`;\n        this.setState({ loading: true })\n        let data = await fetch(url);\n        let parsedData = await data.json()\n        console.log(parsedData);\n        this.setState({\n            articles: parsedData.articles,\n            totalResults: parsedData.totalResults,\n            loading: false\n        })\n    }\n    async componentDidMount() {\n        this.updateNews();\n    }\n\n    handleNextClick = async () => {\n        console.log(this.state.totalResults);\n        // if (!(this.state.page + 1 > Math.ceil(this.state.totalResults / this.props.pageSize))) {\n        //     let url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=42ddb4056aeb4d4ab37062f04002f663&page=${this.state.page + 1}&pageSize=${this.props.pageSize}`;\n        //     this.setState({ loading: true })\n        //     let data = await fetch(url);\n        //     let parsedData = await data.json()\n        //     this.setState({ articles: parsedData.articles })\n        //     this.setState({\n        //         page: this.state.page + 1,\n        //         articles: parsedData.articles,\n        //         loading: false\n        //     })\n        // }\n        this.setState({ page: this.state.page + 1 });\n        this.updateNews();\n\n\n    }\n    handlePrevClick = async () => {\n        console.log(\"previous button was clicked \");\n\n        // let url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=42ddb4056aeb4d4ab37062f04002f663&page=${this.state.page - 1}&pageSize=${this.props.pageSize}`;\n        // this.setState({ loading: true })\n        // let data = await fetch(url);\n\n        // let parsedData = await data.json()\n        // console.log(parsedData);\n        // this.setState({ articles: parsedData.articles })\n        // this.setState({\n        //     page: this.state.page - 1,\n        //     articles: parsedData.articles,\n        //     loading: false\n        // })\n        this.setState({ page: this.state.page - 1 });\n        this.updateNews();\n\n    }\n    render() {\n        return (\n            <div className=\"container my-3\">\n                <h1>NewsMonkey - TopHeadlines</h1>\n                {this.state.loading && <Spiner />}\n\n                <div className=\"row\">\n                    {!this.state.loading && this.state.articles.map((element) => {\n                        return <div className=\"col-md-4\" key={element.url}>\n                            <NewsItem title={element.title ? element.title.slice(0, 45) : \"\"} discription={element.description ? element.description.slice(0, 88) : \"\"} imageUrl={element.urlToImage} newsUrl={element.url} author={element.author} date={element.publishedAt} />\n                        </div>\n                    })}\n                </div>\n                <div className=\"container d-flex justify-content-between\">\n                    <button disabled={this.state.page <= 1} type=\"button\" className=\"btn btn-dark\" onClick={this.handlePrevClick} >\t&larr; Previous</button>\n                    <button disabled={this.state.page + 1 > Math.ceil(this.state.totalResults / this.props.pageSize)} type=\"button\" className=\"btn btn-dark\" onClick={this.handleNextClick} >Next &rarr;</button>\n                </div>\n\n            </div>\n        )\n    }\n}\n\nexport default News\n"]},"metadata":{},"sourceType":"module"}